<!DOCTYPE html>
<html>
  <head>
    <title>Welcome to the Topics Collective</title>
    <meta charset="UTF-8" />
    <script>
      window.addEventListener(
        'message',
        (event) => {
          if (event.data && event.data.src && event.data.src === 'lfgtopics') {
            console.log('lfgtopics data', event.data)
          }
        },
        false
      );
      function topicRequester(){
          console.log('dispatch topics request')
          window.lfgtopics.contentWindow.document.onreadystatechange = () => {
            if (window.lfgtopics.contentWindow.document.readyState === "complete") {
              window.lfgtopics.contentWindow.postMessage({src: "lfgtopicsRequest", target: "parent",  initer: "homepage" });
            }
          }
      }
    </script>
    <script defer type="text/javascript" src="https://free.topics.center/lfgtopics.js?cb=12312323sadf" id="lfgtopics-script" onload="topicRequester()"></script>
  </head>

  <body>
    <h1>
      Welcome to the Topics Collective
    </h1>

    <script>
      console.log('dispatch late topics request')
       window.lfgtopics.contentWindow.postMessage({src: "lfgtopicsRequest", target: "parent", initer: "late-homepage" });
    </script>
  </body>
</html>
